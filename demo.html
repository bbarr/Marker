<!DOCTYPE html>
<html>
<head>
</head>
<body>
	
	<script src="marker.js"></script>
	<script>
		
		Marker.register('short_example', function(link_href, link_text) {
			
			this
			  .div_()
				  .p_('Some paragraph.')
					  .a({ href: link_href, cache: 'the_link' }, link_text);
					
		});
		
		var rendered = Marker.render('short_example', 'http://jomamma.com', 'jomamma');
		
		rendered.html; // =>the generated HTML
		rendered.cache; // => hash of cached elements
	  rendered.cache.the_link; // => references the above generated anchor

		document.body.appendChild(rendered.html);	

		Marker.register('long_example', function(data) {

			this
			  .div_()
				  .h3('a header')
				  .div_({ className: 'inner' })
					  .p_()
						  .text('some paragraph text ')
						  .a({ href: '#' }, 'a link')
						  .text('some more text')
						._()
				  ._()
				._()
				
				.partial('short_example', data.a, data.b)
				
				.section_()
					.span(data.foo);
		});

		document.body.appendChild(Marker.render('long_example', { foo: 'bar', a: 'a variable', b: 'b variable' }).html);

	</script>
</body>
</html>